<form id="mailer" action="destination.html">

  <label>
    Add an email to the mailing list:
    <input type="email" name="subscriber_email">
  </label>

  <button class="submit">Send</button>
</form>

<result></result>

<script type="text/javascript">
$( document ).ready(function() {
    $( "form" ).submit(function( event ) {
        event.preventDefault();
        $.ajax({
            url: "https://sdsnw5q7m5.execute-api.us-west-1.amazonaws.com/prod/addToList",
            type: "Post",
            data: JSON.stringify({ 'subscriber_email': $( "form" ).serializeArray()[0]["value"] }),
            success: function( event ) {
                window.location.href = "/mailer/destination.html";
              },
            crossDomain: true,
            headers: {
                "Access-Control-Allow-Headers": "x-requested-with",
                "Access-Control-Allow-Methods": "OPTIONS,POST,GET",
                'X-Requested-With': 'XMLHttpRequest',
                "Content-Type": "application/json"
            }
        });
    });
});
</script>
